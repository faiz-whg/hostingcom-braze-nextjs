"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/dashboard/page",{

/***/ "(app-pages-browser)/./src/components/dashboard/BrazePromoBannerCard.tsx":
/*!***********************************************************!*\
  !*** ./src/components/dashboard/BrazePromoBannerCard.tsx ***!
  \***********************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _lib_services_braze__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/services/braze */ \"(app-pages-browser)/./src/lib/services/braze.ts\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var _BrazePromoBannerCardSkeleton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BrazePromoBannerCardSkeleton */ \"(app-pages-browser)/./src/components/dashboard/BrazePromoBannerCardSkeleton.tsx\");\n/**\n * @file BrazePromoBannerCard.tsx\n * @description A client component that displays promotional banners from Braze Content Cards.\n * Includes caching mechanism to persist content across page reloads.\n */ /* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n// --- Custom Type Definitions for Braze Cards ---\n// Remove local AppBrazeCard definition\n// interface AppBrazeCard extends Omit<BrazeBaseCard, 'extras'> {\n//   title?: string;\n//   description?: string;\n//   imageUrl?: string;\n//   url?: string;\n//   linkText?: string;\n//   extras?: Record<string, string | number | boolean | null | undefined> & {\n//     slot_target?: string;\n//     count_down_hours?: string | number;\n//     alt_text?: string;\n//   };\n// }\n// --- End Custom Type Definitions ---\n/**\n * @constant BRAZE_DATA_TIMEOUT_MS\n * @description Timeout in milliseconds to wait for Braze data before falling back.\n */ const BRAZE_DATA_TIMEOUT_MS = 3000;\nconst BrazePromoBannerCard = (param)=>{\n    let { slotId } = param;\n    var _cardToDisplay_extras;\n    _s();\n    // Store BrazeBaseCard objects from the SDK\n    const [brazeSDKCards, setBrazeSDKCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentCardIndexForDisplay, setCurrentCardIndexForDisplay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [isTransitioning, setIsTransitioning] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showIncomingContent, setShowIncomingContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [displayedCountdown, setDisplayedCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [countdownParts, setCountdownParts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCountdownActive, setIsCountdownActive] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [targetEndTimes, setTargetEndTimes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [initialCountdownHoursMap, setInitialCountdownHoursMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const countdownIntervalRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const cardIdForCurrentCountdownPartsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(undefined);\n    const dataFetchTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Store the ID of the card for which an impression has been logged\n    const loggedImpressionCardIdRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Effect to handle initialization and subscription setup\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BrazePromoBannerCard.useEffect\": ()=>{\n            let isMounted = true;\n            const initialize = {\n                \"BrazePromoBannerCard.useEffect.initialize\": async ()=>{\n                    var _cachedBrazeSDKResult_cards;\n                    if (!isMounted) return;\n                    setIsLoading(true);\n                    loggedImpressionCardIdRef.current = null;\n                    // Clear any existing timeouts\n                    if (dataFetchTimeoutRef.current) {\n                        clearTimeout(dataFetchTimeoutRef.current);\n                    }\n                    // Check for cached cards first\n                    const cachedBrazeSDKResult = _lib_services_braze__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getCachedContentCards();\n                    const slotIdUnderscore = slotId.replace(/-/g, '_');\n                    if (cachedBrazeSDKResult === null || cachedBrazeSDKResult === void 0 ? void 0 : (_cachedBrazeSDKResult_cards = cachedBrazeSDKResult.cards) === null || _cachedBrazeSDKResult_cards === void 0 ? void 0 : _cachedBrazeSDKResult_cards.length) {\n                        const filteredForSlot = cachedBrazeSDKResult.cards.filter({\n                            \"BrazePromoBannerCard.useEffect.initialize.filteredForSlot\": (card)=>{\n                                var _card_extras, _card_extras1;\n                                return ((_card_extras = card.extras) === null || _card_extras === void 0 ? void 0 : _card_extras.slot_target) === slotId || ((_card_extras1 = card.extras) === null || _card_extras1 === void 0 ? void 0 : _card_extras1.slot_target) === slotIdUnderscore;\n                            }\n                        }[\"BrazePromoBannerCard.useEffect.initialize.filteredForSlot\"]);\n                        if (filteredForSlot.length > 0 && isMounted) {\n                            console.log(\"[BrazePromo '\".concat(slotId, \"'] Using cached cards:\"), filteredForSlot.map({\n                                \"BrazePromoBannerCard.useEffect.initialize\": (c)=>c.id\n                            }[\"BrazePromoBannerCard.useEffect.initialize\"]));\n                            setBrazeSDKCards(filteredForSlot);\n                            setCurrentCardIndexForDisplay(0);\n                            setIsLoading(false);\n                            return;\n                        }\n                    }\n                    // Set a timeout to handle cases where Braze takes too long to initialize\n                    dataFetchTimeoutRef.current = setTimeout({\n                        \"BrazePromoBannerCard.useEffect.initialize\": ()=>{\n                            if (isMounted) {\n                                setIsLoading(false);\n                            }\n                        }\n                    }[\"BrazePromoBannerCard.useEffect.initialize\"], BRAZE_DATA_TIMEOUT_MS);\n                    // Initialize Braze and subscribe to updates\n                    let unsubscribeId = undefined;\n                    try {\n                        let attempts = 0;\n                        while(!_lib_services_braze__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isInitialized && attempts < 20){\n                            attempts++;\n                            await new Promise({\n                                \"BrazePromoBannerCard.useEffect.initialize\": (resolve)=>setTimeout(resolve, 500)\n                            }[\"BrazePromoBannerCard.useEffect.initialize\"]);\n                        }\n                        if (!_lib_services_braze__WEBPACK_IMPORTED_MODULE_2__[\"default\"].isInitialized) {\n                            console.error('[BrazePromo] Braze service initialization timed out.');\n                            if (isMounted) setIsLoading(false);\n                            return;\n                        }\n                        // Only set up the subscription if we're still mounted\n                        if (isMounted) {\n                            // Store the subscription ID for cleanup\n                            unsubscribeId = _lib_services_braze__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribeToContentCardsUpdates({\n                                \"BrazePromoBannerCard.useEffect.initialize\": (contentCardsObject)=>{\n                                    if (!isMounted) return;\n                                    const allCardsFromSDK = contentCardsObject.cards;\n                                    const filteredForSlot = allCardsFromSDK.filter({\n                                        \"BrazePromoBannerCard.useEffect.initialize.filteredForSlot\": (card)=>{\n                                            var _card_extras, _card_extras1;\n                                            return ((_card_extras = card.extras) === null || _card_extras === void 0 ? void 0 : _card_extras.slot_target) === slotId || ((_card_extras1 = card.extras) === null || _card_extras1 === void 0 ? void 0 : _card_extras1.slot_target) === slotIdUnderscore;\n                                        }\n                                    }[\"BrazePromoBannerCard.useEffect.initialize.filteredForSlot\"]);\n                                    console.log(\"[BrazePromo '\".concat(slotId, \"'] Received card update:\"), filteredForSlot.map({\n                                        \"BrazePromoBannerCard.useEffect.initialize\": (c)=>c.id\n                                    }[\"BrazePromoBannerCard.useEffect.initialize\"]));\n                                    setBrazeSDKCards({\n                                        \"BrazePromoBannerCard.useEffect.initialize\": (prevBanners)=>{\n                                            const prevIds = new Set(prevBanners.map({\n                                                \"BrazePromoBannerCard.useEffect.initialize\": (b)=>b.id\n                                            }[\"BrazePromoBannerCard.useEffect.initialize\"]));\n                                            const newIds = new Set(filteredForSlot.map({\n                                                \"BrazePromoBannerCard.useEffect.initialize\": (b)=>b.id\n                                            }[\"BrazePromoBannerCard.useEffect.initialize\"]));\n                                            if (prevIds.size !== newIds.size || filteredForSlot.some({\n                                                \"BrazePromoBannerCard.useEffect.initialize\": (card)=>card.id && !prevIds.has(card.id)\n                                            }[\"BrazePromoBannerCard.useEffect.initialize\"]) || // Ensure card.id is checked\n                                            prevBanners.some({\n                                                \"BrazePromoBannerCard.useEffect.initialize\": (card)=>card.id && !newIds.has(card.id)\n                                            }[\"BrazePromoBannerCard.useEffect.initialize\"])) {\n                                                return filteredForSlot;\n                                            }\n                                            return prevBanners;\n                                        }\n                                    }[\"BrazePromoBannerCard.useEffect.initialize\"]);\n                                    if (filteredForSlot.length > 0) {\n                                        setCurrentCardIndexForDisplay({\n                                            \"BrazePromoBannerCard.useEffect.initialize\": (prev)=>prev < filteredForSlot.length ? prev : 0\n                                        }[\"BrazePromoBannerCard.useEffect.initialize\"]);\n                                    } else {\n                                        // If no cards for the slot, reset index\n                                        setCurrentCardIndexForDisplay(0);\n                                    }\n                                    setIsLoading(false);\n                                }\n                            }[\"BrazePromoBannerCard.useEffect.initialize\"]);\n                            // Return cleanup function\n                            return ({\n                                \"BrazePromoBannerCard.useEffect.initialize\": ()=>{\n                                    isMounted = false;\n                                    if (dataFetchTimeoutRef.current) {\n                                        clearTimeout(dataFetchTimeoutRef.current);\n                                    }\n                                    if (unsubscribeId) {\n                                        _lib_services_braze__WEBPACK_IMPORTED_MODULE_2__[\"default\"].unsubscribeFromContentCardsUpdates(unsubscribeId);\n                                    }\n                                }\n                            })[\"BrazePromoBannerCard.useEffect.initialize\"];\n                        }\n                    } catch (error) {\n                        console.error('[BrazePromo] Error during initialization or subscription:', error);\n                        if (isMounted) setIsLoading(false);\n                    }\n                }\n            }[\"BrazePromoBannerCard.useEffect.initialize\"];\n            initialize();\n            // Cleanup function\n            return ({\n                \"BrazePromoBannerCard.useEffect\": ()=>{\n                    isMounted = false;\n                    if (dataFetchTimeoutRef.current) {\n                        clearTimeout(dataFetchTimeoutRef.current);\n                    }\n                }\n            })[\"BrazePromoBannerCard.useEffect\"];\n        }\n    }[\"BrazePromoBannerCard.useEffect\"], [\n        slotId\n    ]); // Only depend on slotId\n    // THIS IS THE EFFECT IN QUESTION (around original line 133)\n    // Update initialCountdownHoursMap when brazeSDKCards changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BrazePromoBannerCard.useEffect\": ()=>{\n            if (isLoading) return;\n            const newMap = {};\n            let shouldUpdate = false;\n            brazeSDKCards.forEach({\n                \"BrazePromoBannerCard.useEffect\": (card)=>{\n                    var _card_id;\n                    const cardExtras = card.extras;\n                    if ((card === null || card === void 0 ? void 0 : (_card_id = card.id) === null || _card_id === void 0 ? void 0 : _card_id.trim()) && (cardExtras === null || cardExtras === void 0 ? void 0 : cardExtras.count_down_hours) != null) {\n                        const initialHours = parseInt(String(cardExtras.count_down_hours), 10);\n                        if (!isNaN(initialHours) && initialHours > 0) {\n                            // Ensure card.id is a string before using as key\n                            if (typeof card.id === 'string') {\n                                newMap[card.id] = initialHours;\n                                shouldUpdate = true;\n                            }\n                        }\n                    }\n                }\n            }[\"BrazePromoBannerCard.useEffect\"]);\n            if (shouldUpdate) {\n                setInitialCountdownHoursMap({\n                    \"BrazePromoBannerCard.useEffect\": (prev)=>{\n                        const prevStr = JSON.stringify(prev);\n                        const newStr = JSON.stringify(newMap);\n                        return prevStr === newStr ? prev : newMap;\n                    }\n                }[\"BrazePromoBannerCard.useEffect\"]);\n            }\n        }\n    }[\"BrazePromoBannerCard.useEffect\"], [\n        brazeSDKCards,\n        isLoading\n    ]);\n    // Memoize cardToDisplay to prevent unnecessary re-renders\n    // cardToDisplay is now a BrazeBaseCard or undefined\n    const cardToDisplay = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo({\n        \"BrazePromoBannerCard.useMemo[cardToDisplay]\": ()=>{\n            return brazeSDKCards[currentCardIndexForDisplay];\n        }\n    }[\"BrazePromoBannerCard.useMemo[cardToDisplay]\"], [\n        brazeSDKCards,\n        currentCardIndexForDisplay\n    ]);\n    // Autoplay slideshow logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BrazePromoBannerCard.useEffect\": ()=>{\n            var _cardToDisplay_extras;\n            if (brazeSDKCards.length <= 1 || isLoading || !cardToDisplay) {\n                return;\n            }\n            var _cardToDisplay_extras_display_duration_ms;\n            const displayDurationConfig = (_cardToDisplay_extras_display_duration_ms = (_cardToDisplay_extras = cardToDisplay.extras) === null || _cardToDisplay_extras === void 0 ? void 0 : _cardToDisplay_extras.display_duration_ms) !== null && _cardToDisplay_extras_display_duration_ms !== void 0 ? _cardToDisplay_extras_display_duration_ms : 6000;\n            const exitAnimationDuration = 1000;\n            const slideshowTimer = setTimeout({\n                \"BrazePromoBannerCard.useEffect.slideshowTimer\": ()=>{\n                    setIsTransitioning(true);\n                    setTimeout({\n                        \"BrazePromoBannerCard.useEffect.slideshowTimer\": ()=>{\n                            // Impression for the *next* card will be logged by its own effect when cardToDisplay changes.\n                            // No need to reset loggedImpressionCardIdRef.current here directly, the check against card ID handles it.\n                            setCurrentCardIndexForDisplay({\n                                \"BrazePromoBannerCard.useEffect.slideshowTimer\": (prevIndex)=>(prevIndex + 1) % brazeSDKCards.length\n                            }[\"BrazePromoBannerCard.useEffect.slideshowTimer\"]);\n                            setIsTransitioning(false);\n                        }\n                    }[\"BrazePromoBannerCard.useEffect.slideshowTimer\"], exitAnimationDuration);\n                }\n            }[\"BrazePromoBannerCard.useEffect.slideshowTimer\"], displayDurationConfig);\n            return ({\n                \"BrazePromoBannerCard.useEffect\": ()=>{\n                    clearTimeout(slideshowTimer);\n                }\n            })[\"BrazePromoBannerCard.useEffect\"];\n        }\n    }[\"BrazePromoBannerCard.useEffect\"], [\n        isLoading,\n        brazeSDKCards,\n        currentCardIndexForDisplay,\n        cardToDisplay\n    ]); // Added cardToDisplay dependency\n    // Effect to manage the animation states for incoming content\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BrazePromoBannerCard.useEffect\": ()=>{\n            if (!isLoading && !isTransitioning) {\n                setShowIncomingContent(false);\n                const rafTimer = requestAnimationFrame({\n                    \"BrazePromoBannerCard.useEffect.rafTimer\": ()=>{\n                        setShowIncomingContent(true);\n                    }\n                }[\"BrazePromoBannerCard.useEffect.rafTimer\"]);\n                return ({\n                    \"BrazePromoBannerCard.useEffect\": ()=>cancelAnimationFrame(rafTimer)\n                })[\"BrazePromoBannerCard.useEffect\"];\n            } else if (isTransitioning) {\n                setShowIncomingContent(false);\n            }\n        }\n    }[\"BrazePromoBannerCard.useEffect\"], [\n        isTransitioning,\n        cardToDisplay,\n        isLoading\n    ]);\n    // Countdown Timer Logic\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BrazePromoBannerCard.useEffect\": ()=>{\n            if (countdownIntervalRef.current) {\n                clearInterval(countdownIntervalRef.current);\n                countdownIntervalRef.current = null;\n            }\n            setIsCountdownActive(false);\n            setDisplayedCountdown(\"\");\n            setCountdownParts(null);\n            if (cardToDisplay && typeof cardToDisplay.id === 'string' && cardToDisplay.id.trim() !== '') {\n                const currentCardId = cardToDisplay.id;\n                // cardToDisplay is BrazeBaseCard, extras are generic.\n                const cardExtras = cardToDisplay.extras;\n                if (cardExtras && cardExtras.count_down_hours !== undefined && cardExtras.count_down_hours !== null) {\n                    const rawCountdownHours = cardExtras.count_down_hours;\n                    const hoursFromExtras = parseInt(String(rawCountdownHours), 10);\n                    if (!isNaN(hoursFromExtras) && hoursFromExtras > 0) {\n                        let cardSpecificTargetEndTime = targetEndTimes[currentCardId];\n                        if (!cardSpecificTargetEndTime) {\n                            const now = new Date();\n                            cardSpecificTargetEndTime = new Date(now.getTime() + hoursFromExtras * 60 * 60 * 1000).getTime();\n                            setTargetEndTimes({\n                                \"BrazePromoBannerCard.useEffect\": (prev)=>({\n                                        ...prev,\n                                        [currentCardId]: cardSpecificTargetEndTime\n                                    })\n                            }[\"BrazePromoBannerCard.useEffect\"]);\n                        }\n                        const updateDisplay = {\n                            \"BrazePromoBannerCard.useEffect.updateDisplay\": ()=>{\n                                if (!cardSpecificTargetEndTime) return;\n                                const now = new Date().getTime();\n                                const distance = cardSpecificTargetEndTime - now;\n                                if (distance < 0) {\n                                    if (countdownIntervalRef.current) {\n                                        clearInterval(countdownIntervalRef.current);\n                                        countdownIntervalRef.current = null;\n                                    }\n                                    setIsCountdownActive(false);\n                                    setCountdownParts(null);\n                                    setDisplayedCountdown(\"Ended\");\n                                    return;\n                                }\n                                const hoursLeft = Math.floor(distance / (1000 * 60 * 60));\n                                const minutesLeft = Math.floor(distance % (1000 * 60 * 60) / (1000 * 60));\n                                const secondsLeft = Math.floor(distance % (1000 * 60) / 1000);\n                                setCountdownParts({\n                                    hours: String(hoursLeft).padStart(2, '0'),\n                                    minutes: String(minutesLeft).padStart(2, '0'),\n                                    seconds: String(secondsLeft).padStart(2, '0')\n                                });\n                                setIsCountdownActive(true);\n                                setDisplayedCountdown(\"\");\n                            }\n                        }[\"BrazePromoBannerCard.useEffect.updateDisplay\"];\n                        updateDisplay();\n                        countdownIntervalRef.current = setInterval(updateDisplay, 1000);\n                    } else {\n                        setIsCountdownActive(false);\n                        setCountdownParts(null);\n                    }\n                } else {\n                    setIsCountdownActive(false);\n                    setCountdownParts(null);\n                }\n            } else {\n                setIsCountdownActive(false);\n                setCountdownParts(null);\n            }\n            if (cardToDisplay && typeof cardToDisplay.id === 'string' && cardToDisplay.id.trim() !== '' && cardToDisplay.extras && cardToDisplay.extras.count_down_hours !== undefined) {\n                cardIdForCurrentCountdownPartsRef.current = cardToDisplay.id;\n            } else {\n                cardIdForCurrentCountdownPartsRef.current = undefined;\n            }\n            return ({\n                \"BrazePromoBannerCard.useEffect\": ()=>{\n                    if (countdownIntervalRef.current) {\n                        clearInterval(countdownIntervalRef.current);\n                        countdownIntervalRef.current = null;\n                    }\n                }\n            })[\"BrazePromoBannerCard.useEffect\"];\n        }\n    }[\"BrazePromoBannerCard.useEffect\"], [\n        cardToDisplay,\n        initialCountdownHoursMap,\n        targetEndTimes\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"BrazePromoBannerCard.useEffect\": ()=>{\n            if (cardToDisplay && cardToDisplay.id && loggedImpressionCardIdRef.current !== cardToDisplay.id) {\n                console.log(\"[BrazePromo '\".concat(slotId, \"'] Logging impression for card ID: \").concat(cardToDisplay.id));\n                _lib_services_braze__WEBPACK_IMPORTED_MODULE_2__[\"default\"].logContentCardImpression(cardToDisplay);\n                loggedImpressionCardIdRef.current = cardToDisplay.id;\n            } else if (!cardToDisplay && loggedImpressionCardIdRef.current) {\n                loggedImpressionCardIdRef.current = null;\n            }\n        }\n    }[\"BrazePromoBannerCard.useEffect\"], [\n        cardToDisplay,\n        slotId\n    ]);\n    // Properties for rendering, derived from cardToDisplay with type assertions\n    // This approach helps if the linter struggles with direct casting to AppBrazeCard in JSX\n    const title = cardToDisplay ? cardToDisplay.title : undefined;\n    const description = cardToDisplay ? cardToDisplay.description : undefined;\n    const imageUrl = cardToDisplay ? cardToDisplay.imageUrl : undefined;\n    const linkText = cardToDisplay ? cardToDisplay.linkText : undefined;\n    const clickUrl = cardToDisplay ? cardToDisplay.url : undefined;\n    const altText = (cardToDisplay === null || cardToDisplay === void 0 ? void 0 : (_cardToDisplay_extras = cardToDisplay.extras) === null || _cardToDisplay_extras === void 0 ? void 0 : _cardToDisplay_extras.alt_text) || 'Promotional image';\n    // const countDownHours = cardToDisplay?.extras?.count_down_hours as string | number | undefined; // Already handled in countdown effect\n    // const displayDurationMs = cardToDisplay?.extras?.display_duration_ms as number | undefined ?? 6000; // Already handled in autoplay effect\n    const handleCardClick = ()=>{\n        if (!cardToDisplay || !cardToDisplay.id || !clickUrl) return;\n        window.open(clickUrl, '_blank');\n        _lib_services_braze__WEBPACK_IMPORTED_MODULE_2__[\"default\"].logContentCardClick(cardToDisplay);\n    };\n    // renderableCardData can still be useful for id or other direct AppBrazeCard specific logic if any.\n    const renderableCardData = cardToDisplay;\n    const exitAnimationDuration = 1000; // This was defined after imageUrl, moved it here for grouping constants\n    const handleNext = ()=>{\n        if (isTransitioning || brazeSDKCards.length <= 1) return;\n        setIsTransitioning(true);\n        setTimeout(()=>{\n            setCurrentCardIndexForDisplay((prevIndex)=>prevIndex === brazeSDKCards.length - 1 ? 0 : prevIndex + 1);\n            setIsTransitioning(false);\n        }, exitAnimationDuration);\n    };\n    const handlePrev = ()=>{\n        if (isTransitioning || brazeSDKCards.length <= 1) return;\n        setIsTransitioning(true);\n        setTimeout(()=>{\n            setCurrentCardIndexForDisplay((prevIndex)=>prevIndex === 0 ? brazeSDKCards.length - 1 : prevIndex - 1);\n            setIsTransitioning(false);\n        }, exitAnimationDuration);\n    };\n    if (isLoading && !cardToDisplay) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_BrazePromoBannerCardSkeleton__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n            lineNumber: 400,\n            columnNumber: 12\n        }, undefined);\n    }\n    const easingClass = \"ease-[cubic-bezier(0.18,1.25,0.4,1.1)]\";\n    let animationContainerClasses = \"absolute inset-0 flex transition-all\";\n    if (isTransitioning) {\n        animationContainerClasses += \" duration-1000 \".concat(easingClass, \" opacity-0 -translate-y-full\");\n    } else {\n        animationContainerClasses += \" duration-700 \".concat(easingClass);\n        if (showIncomingContent) {\n            animationContainerClasses += \" opacity-100 translate-y-0\";\n        } else {\n            // Initial state of entrance animation (hidden, further below)\n            animationContainerClasses += \" opacity-0 translate-y-6\"; // 24px down\n        }\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative flex h-[160px] w-full rounded-lg shadow-md overflow-hidden bg-gradient-to-br from-[#46fdae] to-[#c6fb4b] cursor-pointer\",\n        onClick: !cardToDisplay || !clickUrl ? undefined : handleCardClick,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-full aspect-square bg-white/40 flex-shrink-0\"\n            }, void 0, false, {\n                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                lineNumber: 423,\n                columnNumber: 7\n            }, undefined),\n            cardToDisplay && brazeSDKCards.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"absolute top-2 right-2 flex space-x-1 z-20\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: (e)=>{\n                            e.stopPropagation();\n                            handlePrev();\n                        },\n                        className: \"w-7 h-7 rounded-full bg-white flex items-center justify-center flex-shrink-0 shadow-sm hover:shadow transition-all duration-200 hover:scale-105\",\n                        \"aria-label\": \"Previous slide\",\n                        disabled: isTransitioning,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            strokeWidth: 2,\n                            stroke: \"currentColor\",\n                            className: \"w-4 h-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                d: \"M15.75 19.5L8.25 12l7.5-7.5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                lineNumber: 434,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                            lineNumber: 433,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                        lineNumber: 427,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: (e)=>{\n                            e.stopPropagation();\n                            handleNext();\n                        },\n                        className: \"w-7 h-7 rounded-full bg-white flex items-center justify-center flex-shrink-0 shadow-sm hover:shadow transition-all duration-200 hover:scale-105\",\n                        \"aria-label\": \"Next slide\",\n                        disabled: isTransitioning,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                            xmlns: \"http://www.w3.org/2000/svg\",\n                            fill: \"none\",\n                            viewBox: \"0 0 24 24\",\n                            strokeWidth: 2,\n                            stroke: \"currentColor\",\n                            className: \"w-4 h-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                strokeLinecap: \"round\",\n                                strokeLinejoin: \"round\",\n                                d: \"M8.25 4.5l7.5 7.5-7.5 7.5\"\n                            }, void 0, false, {\n                                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                lineNumber: 444,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                            lineNumber: 443,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                        lineNumber: 437,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                lineNumber: 426,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: animationContainerClasses,\n                children: !cardToDisplay ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-full h-full flex items-center justify-center p-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-lg font-medium\",\n                        children: \"No promotional offers available.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                        lineNumber: 456,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                    lineNumber: 455,\n                    columnNumber: 11\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex w-full h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"h-full aspect-square flex items-center justify-center flex-shrink-0\",\n                            children: imageUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-[calc(100%-16px)] h-[calc(100%-16px)] relative\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                    src: imageUrl,\n                                    alt: altText,\n                                    fill: true,\n                                    sizes: \"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\",\n                                    className: \"object-contain\",\n                                    priority: currentCardIndexForDisplay === 0 && !isTransitioning\n                                }, void 0, false, {\n                                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                    lineNumber: 463,\n                                    columnNumber: 19\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                lineNumber: 462,\n                                columnNumber: 17\n                            }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"w-12 h-12 stroke-current\",\n                                fill: \"none\",\n                                strokeWidth: \"2\",\n                                viewBox: \"0 0 24 24\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                        lineNumber: 474,\n                                        columnNumber: 19\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                        d: \"M4 22v-7\",\n                                        strokeLinecap: \"round\",\n                                        strokeLinejoin: \"round\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                        lineNumber: 475,\n                                        columnNumber: 19\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                lineNumber: 473,\n                                columnNumber: 17\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                            lineNumber: 460,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 p-4 flex flex-col justify-between items-start min-w-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"min-w-0\",\n                                    children: [\n                                        title && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-lg font-medium mb-1 truncate\",\n                                            children: title\n                                        }, void 0, false, {\n                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                            lineNumber: 483,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-600 mb-2 line-clamp-2\",\n                                            children: description\n                                        }, void 0, false, {\n                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                            lineNumber: 487,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                    lineNumber: 481,\n                                    columnNumber: 15\n                                }, undefined),\n                                linkText && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-auto pt-2 flex items-center self-stretch\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: (e)=>{\n                                                e.stopPropagation();\n                                                handleCardClick();\n                                            },\n                                            className: \"group relative inline-flex items-center justify-center px-5 py-2.5 text-sm font-medium text-white bg-[#2e4a45] rounded-lg hover:bg-[#253c37] transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#253c37] overflow-hidden\",\n                                            children: [\n                                                linkText || 'Learn More',\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                                    xmlns: \"http://www.w3.org/2000/svg\",\n                                                    fill: \"none\",\n                                                    viewBox: \"0 0 24 24\",\n                                                    strokeWidth: 2,\n                                                    stroke: \"currentColor\",\n                                                    className: \"w-4 h-4 ml-1.5 transform transition-transform duration-200 ease-in-out group-hover:translate-x-1\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                        strokeLinecap: \"round\",\n                                                        strokeLinejoin: \"round\",\n                                                        d: \"M8.25 4.5l7.5 7.5-7.5 7.5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                        lineNumber: 499,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                    lineNumber: 498,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                            lineNumber: 493,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.AnimatePresence, {\n                                            mode: \"wait\",\n                                            children: [\n                                                isCountdownActive && countdownParts && cardToDisplay && cardToDisplay.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                                                    className: \"ml-3 flex items-center\",\n                                                    initial: {\n                                                        opacity: 0\n                                                    },\n                                                    animate: {\n                                                        opacity: 1\n                                                    },\n                                                    exit: {\n                                                        opacity: 0\n                                                    },\n                                                    transition: {\n                                                        duration: 0.3,\n                                                        ease: \"easeInOut\"\n                                                    },\n                                                    children: [\n                                                        (()=>{\n                                                            let initialTotalHoursForCurrentCardDisplay;\n                                                            const cardExtras = cardToDisplay.extras;\n                                                            if (cardExtras && cardExtras.count_down_hours !== undefined && cardExtras.count_down_hours !== null) {\n                                                                const parsedHours = parseInt(String(cardExtras.count_down_hours), 10);\n                                                                if (!isNaN(parsedHours) && parsedHours > 0) {\n                                                                    initialTotalHoursForCurrentCardDisplay = parsedHours;\n                                                                }\n                                                            }\n                                                            if (initialTotalHoursForCurrentCardDisplay === undefined && cardToDisplay.id && typeof cardToDisplay.id === 'string') {\n                                                                initialTotalHoursForCurrentCardDisplay = initialCountdownHoursMap[cardToDisplay.id];\n                                                            }\n                                                            let currentHourValue = parseInt(countdownParts.hours, 10);\n                                                            if (cardIdForCurrentCountdownPartsRef.current !== cardToDisplay.id) {\n                                                                if (initialTotalHoursForCurrentCardDisplay !== undefined && !isNaN(initialTotalHoursForCurrentCardDisplay)) {\n                                                                    currentHourValue = initialTotalHoursForCurrentCardDisplay;\n                                                                }\n                                                            }\n                                                            const denominator = initialTotalHoursForCurrentCardDisplay && initialTotalHoursForCurrentCardDisplay > 0 ? initialTotalHoursForCurrentCardDisplay : Math.max(1, currentHourValue);\n                                                            const calculatedPercentage = denominator > 0 ? currentHourValue / denominator * 100 : 0;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CircularProgress, {\n                                                                value: countdownParts.hours,\n                                                                percentage: calculatedPercentage,\n                                                                size: 36,\n                                                                strokeWidth: 2.5,\n                                                                textSize: \"text-[10px]\"\n                                                            }, \"hours-progress-\".concat(cardToDisplay.id), false, {\n                                                                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                                lineNumber: 535,\n                                                                columnNumber: 29\n                                                            }, undefined);\n                                                        })(),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"mx-0.5 font-medium text-[#2e4a45] text-sm\",\n                                                            children: \":\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                            lineNumber: 545,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CircularProgress, {\n                                                            value: countdownParts.minutes,\n                                                            percentage: parseInt(countdownParts.minutes, 10) / 59 * 100,\n                                                            size: 36,\n                                                            strokeWidth: 2.5,\n                                                            textSize: \"text-[10px]\"\n                                                        }, \"minutes-progress-\".concat(cardToDisplay.id), false, {\n                                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                            lineNumber: 546,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"mx-0.5 font-medium text-[#2e4a45] text-sm\",\n                                                            children: \":\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                            lineNumber: 554,\n                                                            columnNumber: 25\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CircularProgress, {\n                                                            value: countdownParts.seconds,\n                                                            percentage: parseInt(countdownParts.seconds, 10) / 59 * 100,\n                                                            size: 36,\n                                                            strokeWidth: 2.5,\n                                                            textSize: \"text-[10px]\"\n                                                        }, \"seconds-progress-\".concat(cardToDisplay.id), false, {\n                                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                            lineNumber: 555,\n                                                            columnNumber: 25\n                                                        }, undefined)\n                                                    ]\n                                                }, \"countdown-block-\".concat(cardToDisplay.id), true, {\n                                                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                    lineNumber: 504,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                isCountdownActive && !countdownParts && displayedCountdown === \"Ended\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.span, {\n                                                    className: \"ml-3 text-sm font-medium text-[#2e4a45]\",\n                                                    initial: {\n                                                        opacity: 0\n                                                    },\n                                                    animate: {\n                                                        opacity: 1\n                                                    },\n                                                    exit: {\n                                                        opacity: 0\n                                                    },\n                                                    children: displayedCountdown\n                                                }, \"countdown-ended\", false, {\n                                                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                                    lineNumber: 566,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                            lineNumber: 502,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                            lineNumber: 480,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                    lineNumber: 459,\n                    columnNumber: 11\n                }, undefined)\n            }, cardToDisplay ? cardToDisplay.id : 'no-card-state', false, {\n                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                lineNumber: 450,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n        lineNumber: 419,\n        columnNumber: 5\n    }, undefined);\n};\n_s(BrazePromoBannerCard, \"ChjKxbQ7nG/wYCtCiilV18DIoeo=\");\n_c = BrazePromoBannerCard;\nconst CircularProgress = (param)=>{\n    let { percentage, value, size = 40, strokeWidth = 3, baseColor = '#e0e0e0', progressColor = '#2e4a45', textColor = '#2e4a45', textSize = 'text-xs' } = param;\n    const radius = (size - strokeWidth) / 2;\n    const circumference = 2 * Math.PI * radius;\n    const normalizedPercentage = Math.max(0, Math.min(100, percentage));\n    const offset = circumference - normalizedPercentage / 100 * circumference;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"relative flex flex-col items-center mx-1\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                width: size,\n                height: size,\n                className: \"transform -rotate-90\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                        cx: size / 2,\n                        cy: size / 2,\n                        r: radius,\n                        stroke: baseColor,\n                        strokeWidth: strokeWidth,\n                        fill: \"transparent\"\n                    }, void 0, false, {\n                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                        lineNumber: 616,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.circle, {\n                        cx: size / 2,\n                        cy: size / 2,\n                        r: radius,\n                        stroke: progressColor,\n                        strokeWidth: strokeWidth,\n                        fill: \"transparent\",\n                        strokeDasharray: circumference,\n                        strokeDashoffset: offset,\n                        strokeLinecap: \"round\",\n                        initial: false,\n                        animate: {\n                            strokeDashoffset: offset\n                        },\n                        transition: {\n                            duration: 0.5,\n                            ease: \"linear\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                        lineNumber: 624,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                lineNumber: 615,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 font-medium \".concat(textSize),\n                style: {\n                    color: textColor\n                },\n                children: value\n            }, void 0, false, {\n                fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n                lineNumber: 639,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/faizur/hostingcom-braze-nextjs/src/components/dashboard/BrazePromoBannerCard.tsx\",\n        lineNumber: 614,\n        columnNumber: 5\n    }, undefined);\n};\n_c1 = CircularProgress;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BrazePromoBannerCard);\nvar _c, _c1;\n$RefreshReg$(_c, \"BrazePromoBannerCard\");\n$RefreshReg$(_c1, \"CircularProgress\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2Rhc2hib2FyZC9CcmF6ZVByb21vQmFubmVyQ2FyZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Q0FJQzs7QUFHMEQ7QUFDSDtBQUdSO0FBQ2pCO0FBQzJDO0FBRTFFLGtEQUFrRDtBQUNsRCx1Q0FBdUM7QUFDdkMsaUVBQWlFO0FBQ2pFLG9CQUFvQjtBQUNwQiwwQkFBMEI7QUFDMUIsdUJBQXVCO0FBQ3ZCLGtCQUFrQjtBQUNsQix1QkFBdUI7QUFDdkIsOEVBQThFO0FBQzlFLDRCQUE0QjtBQUM1QiwwQ0FBMEM7QUFDMUMseUJBQXlCO0FBQ3pCLE9BQU87QUFDUCxJQUFJO0FBQ0osc0NBQXNDO0FBR3RDOzs7Q0FHQyxHQUNELE1BQU1TLHdCQUF3QjtBQVU5QixNQUFNQyx1QkFBNEQ7UUFBQyxFQUFFQyxNQUFNLEVBQUU7UUEwVDNEQzs7SUF6VGhCLDJDQUEyQztJQUMzQyxNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHWiwrQ0FBUUEsQ0FBa0IsRUFBRTtJQUN0RSxNQUFNLENBQUNhLDRCQUE0QkMsOEJBQThCLEdBQUdkLCtDQUFRQSxDQUFDO0lBQzdFLE1BQU0sQ0FBQ2UsV0FBV0MsYUFBYSxHQUFHaEIsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDaUIsaUJBQWlCQyxtQkFBbUIsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ21CLHFCQUFxQkMsdUJBQXVCLEdBQUdwQiwrQ0FBUUEsQ0FBQztJQUMvRCxNQUFNLENBQUNxQixvQkFBb0JDLHNCQUFzQixHQUFHdEIsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxDQUFDdUIsZ0JBQWdCQyxrQkFBa0IsR0FBR3hCLCtDQUFRQSxDQUE2RDtJQUNqSCxNQUFNLENBQUN5QixtQkFBbUJDLHFCQUFxQixHQUFHMUIsK0NBQVFBLENBQVU7SUFDcEUsTUFBTSxDQUFDMkIsZ0JBQWdCQyxrQkFBa0IsR0FBRzVCLCtDQUFR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QUN0QyxNQUFNbUMsZ0JBQWdCLElBQUkxRSxLQUFLMkUsRUFBRSxHQUFHRjtJQUNwQyxNQUFNRyx1QkFBdUI1RSxLQUFLK0QsR0FBRyxDQUFDLEdBQUcvRCxLQUFLNkUsR0FBRyxDQUFDLEtBQUtWO0lBQ3ZELE1BQU1XLFNBQVNKLGdCQUFnQix1QkFBd0IsTUFBT0E7SUFFOUQscUJBQ0UsOERBQUMvQztRQUFJQyxXQUFVOzswQkFDYiw4REFBQ087Z0JBQUk0QyxPQUFPdEg7Z0JBQU11SCxRQUFRdkg7Z0JBQU1tRSxXQUFVOztrQ0FDeEMsOERBQUNxRDt3QkFDQ0MsSUFBSXpILE9BQU87d0JBQ1gwSCxJQUFJMUgsT0FBTzt3QkFDWDJILEdBQUdYO3dCQUNIakMsUUFBUThCO3dCQUNSL0IsYUFBYUE7d0JBQ2JGLE1BQUs7Ozs7OztrQ0FFUCw4REFBQ2pKLGlEQUFNQSxDQUFDNkwsTUFBTTt3QkFDWkMsSUFBSXpILE9BQU87d0JBQ1gwSCxJQUFJMUgsT0FBTzt3QkFDWDJILEdBQUdYO3dCQUNIakMsUUFBUStCO3dCQUNSaEMsYUFBYUE7d0JBQ2JGLE1BQUs7d0JBQ0xnRCxpQkFBaUJYO3dCQUNqQlksa0JBQWtCUjt3QkFDbEJwQyxlQUFjO3dCQUNkVSxTQUFTO3dCQUNURSxTQUFTOzRCQUFFZ0Msa0JBQWtCUjt3QkFBTzt3QkFDcEN0QixZQUFZOzRCQUFFQyxVQUFVOzRCQUFLQyxNQUFNO3dCQUFTOzs7Ozs7Ozs7Ozs7MEJBR2hELDhEQUFDVztnQkFBS3pDLFdBQVcscUZBQThGLE9BQVR3QztnQkFBWW1CLE9BQU87b0JBQUVDLE9BQU9oQjtnQkFBVTswQkFDeklOOzs7Ozs7Ozs7Ozs7QUFJVDtNQTlDTUQ7QUFnRE4saUVBQWV2SyxvQkFBb0JBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9mYWl6dXIvaG9zdGluZ2NvbS1icmF6ZS1uZXh0anMvc3JjL2NvbXBvbmVudHMvZGFzaGJvYXJkL0JyYXplUHJvbW9CYW5uZXJDYXJkLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlIEJyYXplUHJvbW9CYW5uZXJDYXJkLnRzeFxuICogQGRlc2NyaXB0aW9uIEEgY2xpZW50IGNvbXBvbmVudCB0aGF0IGRpc3BsYXlzIHByb21vdGlvbmFsIGJhbm5lcnMgZnJvbSBCcmF6ZSBDb250ZW50IENhcmRzLlxuICogSW5jbHVkZXMgY2FjaGluZyBtZWNoYW5pc20gdG8gcGVyc2lzdCBjb250ZW50IGFjcm9zcyBwYWdlIHJlbG9hZHMuXG4gKi9cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyBDYXJkIGFzIEJyYXplQmFzZUNhcmQsIENvbnRlbnRDYXJkcyB9IGZyb20gJ0BicmF6ZS93ZWItc2RrJztcbmltcG9ydCB0eXBlIHsgQXBwQnJhemVDYXJkIH0gZnJvbSAnQC90eXBlcy9icmF6ZSc7IC8vIEltcG9ydCB0aGUgc2hhcmVkIHR5cGVcbmltcG9ydCBicmF6ZVNlcnZpY2UgZnJvbSAnQC9saWIvc2VydmljZXMvYnJhemUnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IEJyYXplUHJvbW9CYW5uZXJDYXJkU2tlbGV0b24gZnJvbSAnLi9CcmF6ZVByb21vQmFubmVyQ2FyZFNrZWxldG9uJztcblxuLy8gLS0tIEN1c3RvbSBUeXBlIERlZmluaXRpb25zIGZvciBCcmF6ZSBDYXJkcyAtLS1cbi8vIFJlbW92ZSBsb2NhbCBBcHBCcmF6ZUNhcmQgZGVmaW5pdGlvblxuLy8gaW50ZXJmYWNlIEFwcEJyYXplQ2FyZCBleHRlbmRzIE9taXQ8QnJhemVCYXNlQ2FyZCwgJ2V4dHJhcyc+IHtcbi8vICAgdGl0bGU/OiBzdHJpbmc7XG4vLyAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuLy8gICBpbWFnZVVybD86IHN0cmluZztcbi8vICAgdXJsPzogc3RyaW5nO1xuLy8gICBsaW5rVGV4dD86IHN0cmluZztcbi8vICAgZXh0cmFzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQ+ICYge1xuLy8gICAgIHNsb3RfdGFyZ2V0Pzogc3RyaW5nO1xuLy8gICAgIGNvdW50X2Rvd25faG91cnM/OiBzdHJpbmcgfCBudW1iZXI7XG4vLyAgICAgYWx0X3RleHQ/OiBzdHJpbmc7XG4vLyAgIH07XG4vLyB9XG4vLyAtLS0gRW5kIEN1c3RvbSBUeXBlIERlZmluaXRpb25zIC0tLVxuXG5cbi8qKlxuICogQGNvbnN0YW50IEJSQVpFX0RBVEFfVElNRU9VVF9NU1xuICogQGRlc2NyaXB0aW9uIFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXQgZm9yIEJyYXplIGRhdGEgYmVmb3JlIGZhbGxpbmcgYmFjay5cbiAqL1xuY29uc3QgQlJBWkVfREFUQV9USU1FT1VUX01TID0gMzAwMDtcblxuLyoqXG4gKiBAaW50ZXJmYWNlIEJyYXplUHJvbW9CYW5uZXJDYXJkUHJvcHNcbiAqIEBkZXNjcmlwdGlvbiBQcm9wcyBmb3IgdGhlIEJyYXplUHJvbW9CYW5uZXJDYXJkIGNvbXBvbmVudFxuICovXG5pbnRlcmZhY2UgQnJhemVQcm9tb0Jhbm5lckNhcmRQcm9wcyB7XG4gIHNsb3RJZDogc3RyaW5nO1xufVxuXG5jb25zdCBCcmF6ZVByb21vQmFubmVyQ2FyZDogUmVhY3QuRkM8QnJhemVQcm9tb0Jhbm5lckNhcmRQcm9wcz4gPSAoeyBzbG90SWQgfSkgPT4ge1xuICAvLyBTdG9yZSBCcmF6ZUJhc2VDYXJkIG9iamVjdHMgZnJvbSB0aGUgU0RLXG4gIGNvbnN0IFticmF6ZVNES0NhcmRzLCBzZXRCcmF6ZVNES0NhcmRzXSA9IHVzZVN0YXRlPEJyYXplQmFzZUNhcmRbXT4oW10pO1xuICBjb25zdCBbY3VycmVudENhcmRJbmRleEZvckRpc3BsYXksIHNldEN1cnJlbnRDYXJkSW5kZXhGb3JEaXNwbGF5XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtpc1RyYW5zaXRpb25pbmcsIHNldElzVHJhbnNpdGlvbmluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93SW5jb21pbmdDb250ZW50LCBzZXRTaG93SW5jb21pbmdDb250ZW50XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Rpc3BsYXllZENvdW50ZG93biwgc2V0RGlzcGxheWVkQ291bnRkb3duXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtjb3VudGRvd25QYXJ0cywgc2V0Q291bnRkb3duUGFydHNdID0gdXNlU3RhdGU8eyBob3Vyczogc3RyaW5nOyBtaW51dGVzOiBzdHJpbmc7IHNlY29uZHM6IHN0cmluZyB9IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0NvdW50ZG93bkFjdGl2ZSwgc2V0SXNDb3VudGRvd25BY3RpdmVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbdGFyZ2V0RW5kVGltZXMsIHNldFRhcmdldEVuZFRpbWVzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTtcbiAgY29uc3QgW2luaXRpYWxDb3VudGRvd25Ib3Vyc01hcCwgc2V0SW5pdGlhbENvdW50ZG93bkhvdXJzTWFwXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTtcbiAgY29uc3QgY291bnRkb3duSW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgY2FyZElkRm9yQ3VycmVudENvdW50ZG93blBhcnRzUmVmID0gdXNlUmVmPHN0cmluZyB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgY29uc3QgZGF0YUZldGNoVGltZW91dFJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICAvLyBTdG9yZSB0aGUgSUQgb2YgdGhlIGNhcmQgZm9yIHdoaWNoIGFuIGltcHJlc3Npb24gaGFzIGJlZW4gbG9nZ2VkXG4gIGNvbnN0IGxvZ2dlZEltcHJlc3Npb25DYXJkSWRSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRWZmZWN0IHRvIGhhbmRsZSBpbml0aWFsaXphdGlvbiBhbmQgc3Vic2NyaXB0aW9uIHNldHVwXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG4gICAgXG4gICAgY29uc3QgaW5pdGlhbGl6ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghaXNNb3VudGVkKSByZXR1cm47XG4gICAgICBcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIGxvZ2dlZEltcHJlc3Npb25DYXJkSWRSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lb3V0c1xuICAgICAgaWYgKGRhdGFGZXRjaFRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQoZGF0YUZldGNoVGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgZm9yIGNhY2hlZCBjYXJkcyBmaXJzdFxuICAgICAgY29uc3QgY2FjaGVkQnJhemVTREtSZXN1bHQgPSBicmF6ZVNlcnZpY2UuZ2V0Q2FjaGVkQ29udGVudENhcmRzKCk7XG4gICAgICBjb25zdCBzbG90SWRVbmRlcnNjb3JlID0gc2xvdElkLnJlcGxhY2UoLy0vZywgJ18nKTtcbiAgICAgIFxuICAgICAgaWYgKGNhY2hlZEJyYXplU0RLUmVzdWx0Py5jYXJkcz8ubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkRm9yU2xvdCA9IChjYWNoZWRCcmF6ZVNES1Jlc3VsdC5jYXJkcyBhcyBCcmF6ZUJhc2VDYXJkW10pLmZpbHRlcihcbiAgICAgICAgICAoY2FyZCkgPT4gKGNhcmQuZXh0cmFzIGFzIHsgc2xvdF90YXJnZXQ/OiBzdHJpbmcgfSk/LnNsb3RfdGFyZ2V0ID09PSBzbG90SWQgfHwgXG4gICAgICAgICAgICAgICAgICAgIChjYXJkLmV4dHJhcyBhcyB7IHNsb3RfdGFyZ2V0Pzogc3RyaW5nIH0pPy5zbG90X3RhcmdldCA9PT0gc2xvdElkVW5kZXJzY29yZVxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKGZpbHRlcmVkRm9yU2xvdC5sZW5ndGggPiAwICYmIGlzTW91bnRlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbQnJhemVQcm9tbyAnJHtzbG90SWR9J10gVXNpbmcgY2FjaGVkIGNhcmRzOmAsIGZpbHRlcmVkRm9yU2xvdC5tYXAoYyA9PiBjLmlkKSk7XG4gICAgICAgICAgc2V0QnJhemVTREtDYXJkcyhmaWx0ZXJlZEZvclNsb3QpO1xuICAgICAgICAgIHNldEN1cnJlbnRDYXJkSW5kZXhGb3JEaXNwbGF5KDApO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBhIHRpbWVvdXQgdG8gaGFuZGxlIGNhc2VzIHdoZXJlIEJyYXplIHRha2VzIHRvbyBsb25nIHRvIGluaXRpYWxpemVcbiAgICAgIGRhdGFGZXRjaFRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSwgQlJBWkVfREFUQV9USU1FT1VUX01TKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBCcmF6ZSBhbmQgc3Vic2NyaWJlIHRvIHVwZGF0ZXNcbiAgICAgIGxldCB1bnN1YnNjcmliZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBhdHRlbXB0cyA9IDA7XG4gICAgICAgIHdoaWxlICghYnJhemVTZXJ2aWNlLmlzSW5pdGlhbGl6ZWQgJiYgYXR0ZW1wdHMgPCAyMCkge1xuICAgICAgICAgIGF0dGVtcHRzKys7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwMCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFicmF6ZVNlcnZpY2UuaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tCcmF6ZVByb21vXSBCcmF6ZSBzZXJ2aWNlIGluaXRpYWxpemF0aW9uIHRpbWVkIG91dC4nKTtcbiAgICAgICAgICBpZiAoaXNNb3VudGVkKSBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE9ubHkgc2V0IHVwIHRoZSBzdWJzY3JpcHRpb24gaWYgd2UncmUgc3RpbGwgbW91bnRlZFxuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgLy8gU3RvcmUgdGhlIHN1YnNjcmlwdGlvbiBJRCBmb3IgY2xlYW51cFxuICAgICAgICAgIHVuc3Vic2NyaWJlSWQgPSBicmF6ZVNlcnZpY2Uuc3Vic2NyaWJlVG9Db250ZW50Q2FyZHNVcGRhdGVzKChjb250ZW50Q2FyZHNPYmplY3Q6IENvbnRlbnRDYXJkcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFpc01vdW50ZWQpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgYWxsQ2FyZHNGcm9tU0RLID0gY29udGVudENhcmRzT2JqZWN0LmNhcmRzIGFzIEJyYXplQmFzZUNhcmRbXTtcbiAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkRm9yU2xvdCA9IGFsbENhcmRzRnJvbVNESy5maWx0ZXIoXG4gICAgICAgICAgICAgIChjYXJkKSA9PiAoY2FyZC5leHRyYXMgYXMgeyBzbG90X3RhcmdldD86IHN0cmluZyB9KT8uc2xvdF90YXJnZXQgPT09IHNsb3RJZCB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgIChjYXJkLmV4dHJhcyBhcyB7IHNsb3RfdGFyZ2V0Pzogc3RyaW5nIH0pPy5zbG90X3RhcmdldCA9PT0gc2xvdElkVW5kZXJzY29yZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coYFtCcmF6ZVByb21vICcke3Nsb3RJZH0nXSBSZWNlaXZlZCBjYXJkIHVwZGF0ZTpgLCBmaWx0ZXJlZEZvclNsb3QubWFwKGMgPT4gYy5pZCkpO1xuXG4gICAgICAgICAgICBzZXRCcmF6ZVNES0NhcmRzKHByZXZCYW5uZXJzID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcHJldklkcyA9IG5ldyBTZXQocHJldkJhbm5lcnMubWFwKGIgPT4gYi5pZCkpO1xuICAgICAgICAgICAgICBjb25zdCBuZXdJZHMgPSBuZXcgU2V0KGZpbHRlcmVkRm9yU2xvdC5tYXAoYiA9PiBiLmlkKSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAocHJldklkcy5zaXplICE9PSBuZXdJZHMuc2l6ZSB8fCBcbiAgICAgICAgICAgICAgICAgIGZpbHRlcmVkRm9yU2xvdC5zb21lKGNhcmQgPT4gY2FyZC5pZCAmJiAhcHJldklkcy5oYXMoY2FyZC5pZCkpIHx8IC8vIEVuc3VyZSBjYXJkLmlkIGlzIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAgIHByZXZCYW5uZXJzLnNvbWUoY2FyZCA9PiBjYXJkLmlkICYmICFuZXdJZHMuaGFzKGNhcmQuaWQpKSkgeyAvLyBFbnN1cmUgY2FyZC5pZCBpcyBjaGVja2VkXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkRm9yU2xvdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcHJldkJhbm5lcnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkRm9yU2xvdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHNldEN1cnJlbnRDYXJkSW5kZXhGb3JEaXNwbGF5KHByZXYgPT4gXG4gICAgICAgICAgICAgICAgcHJldiA8IGZpbHRlcmVkRm9yU2xvdC5sZW5ndGggPyBwcmV2IDogMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSWYgbm8gY2FyZHMgZm9yIHRoZSBzbG90LCByZXNldCBpbmRleFxuICAgICAgICAgICAgICBzZXRDdXJyZW50Q2FyZEluZGV4Rm9yRGlzcGxheSgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIFJldHVybiBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlzTW91bnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGRhdGFGZXRjaFRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZGF0YUZldGNoVGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bnN1YnNjcmliZUlkKSB7XG4gICAgICAgICAgICAgIGJyYXplU2VydmljZS51bnN1YnNjcmliZUZyb21Db250ZW50Q2FyZHNVcGRhdGVzKHVuc3Vic2NyaWJlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tCcmF6ZVByb21vXSBFcnJvciBkdXJpbmcgaW5pdGlhbGl6YXRpb24gb3Igc3Vic2NyaXB0aW9uOicsIGVycm9yKTtcbiAgICAgICAgaWYgKGlzTW91bnRlZCkgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaW5pdGlhbGl6ZSgpO1xuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgIGlmIChkYXRhRmV0Y2hUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRhdGFGZXRjaFRpbWVvdXRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3Nsb3RJZF0pOyAvLyBPbmx5IGRlcGVuZCBvbiBzbG90SWRcblxuICAvLyBUSElTIElTIFRIRSBFRkZFQ1QgSU4gUVVFU1RJT04gKGFyb3VuZCBvcmlnaW5hbCBsaW5lIDEzMylcbiAgLy8gVXBkYXRlIGluaXRpYWxDb3VudGRvd25Ib3Vyc01hcCB3aGVuIGJyYXplU0RLQ2FyZHMgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChpc0xvYWRpbmcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBuZXdNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgXG4gICAgYnJhemVTREtDYXJkcy5mb3JFYWNoKGNhcmQgPT4ge1xuICAgICAgY29uc3QgY2FyZEV4dHJhcyA9IGNhcmQuZXh0cmFzIGFzIHsgY291bnRfZG93bl9ob3Vycz86IHN0cmluZyB8IG51bWJlciB9O1xuICAgICAgaWYgKGNhcmQ/LmlkPy50cmltKCkgJiYgY2FyZEV4dHJhcz8uY291bnRfZG93bl9ob3VycyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxIb3VycyA9IHBhcnNlSW50KFN0cmluZyhjYXJkRXh0cmFzLmNvdW50X2Rvd25faG91cnMpLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4oaW5pdGlhbEhvdXJzKSAmJiBpbml0aWFsSG91cnMgPiAwKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIGNhcmQuaWQgaXMgYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGFzIGtleVxuICAgICAgICAgIGlmICh0eXBlb2YgY2FyZC5pZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG5ld01hcFtjYXJkLmlkXSA9IGluaXRpYWxIb3VycztcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgc2V0SW5pdGlhbENvdW50ZG93bkhvdXJzTWFwKHByZXYgPT4ge1xuICAgICAgICBjb25zdCBwcmV2U3RyID0gSlNPTi5zdHJpbmdpZnkocHJldik7XG4gICAgICAgIGNvbnN0IG5ld1N0ciA9IEpTT04uc3RyaW5naWZ5KG5ld01hcCk7XG4gICAgICAgIHJldHVybiBwcmV2U3RyID09PSBuZXdTdHIgPyBwcmV2IDogbmV3TWFwO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbYnJhemVTREtDYXJkcywgaXNMb2FkaW5nXSk7XG4gIFxuICAvLyBNZW1vaXplIGNhcmRUb0Rpc3BsYXkgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzXG4gIC8vIGNhcmRUb0Rpc3BsYXkgaXMgbm93IGEgQnJhemVCYXNlQ2FyZCBvciB1bmRlZmluZWRcbiAgY29uc3QgY2FyZFRvRGlzcGxheSA9IFJlYWN0LnVzZU1lbW88QnJhemVCYXNlQ2FyZCB8IHVuZGVmaW5lZD4oKCkgPT4ge1xuICAgIHJldHVybiBicmF6ZVNES0NhcmRzW2N1cnJlbnRDYXJkSW5kZXhGb3JEaXNwbGF5XTtcbiAgfSwgW2JyYXplU0RLQ2FyZHMsIGN1cnJlbnRDYXJkSW5kZXhGb3JEaXNwbGF5XSk7XG5cbiAgLy8gQXV0b3BsYXkgc2xpZGVzaG93IGxvZ2ljXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJyYXplU0RLQ2FyZHMubGVuZ3RoIDw9IDEgfHwgaXNMb2FkaW5nIHx8ICFjYXJkVG9EaXNwbGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGlzcGxheUR1cmF0aW9uQ29uZmlnID0gKGNhcmRUb0Rpc3BsYXkuZXh0cmFzIGFzIHsgZGlzcGxheV9kdXJhdGlvbl9tcz86IG51bWJlciB9KT8uZGlzcGxheV9kdXJhdGlvbl9tcyA/PyA2MDAwO1xuICAgIGNvbnN0IGV4aXRBbmltYXRpb25EdXJhdGlvbiA9IDEwMDA7XG5cbiAgICBjb25zdCBzbGlkZXNob3dUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0SXNUcmFuc2l0aW9uaW5nKHRydWUpO1xuICAgICAgXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgLy8gSW1wcmVzc2lvbiBmb3IgdGhlICpuZXh0KiBjYXJkIHdpbGwgYmUgbG9nZ2VkIGJ5IGl0cyBvd24gZWZmZWN0IHdoZW4gY2FyZFRvRGlzcGxheSBjaGFuZ2VzLlxuICAgICAgICAvLyBObyBuZWVkIHRvIHJlc2V0IGxvZ2dlZEltcHJlc3Npb25DYXJkSWRSZWYuY3VycmVudCBoZXJlIGRpcmVjdGx5LCB0aGUgY2hlY2sgYWdhaW5zdCBjYXJkIElEIGhhbmRsZXMgaXQuXG4gICAgICAgIHNldEN1cnJlbnRDYXJkSW5kZXhGb3JEaXNwbGF5KChwcmV2SW5kZXgpID0+IChwcmV2SW5kZXggKyAxKSAlIGJyYXplU0RLQ2FyZHMubGVuZ3RoKTtcbiAgICAgICAgc2V0SXNUcmFuc2l0aW9uaW5nKGZhbHNlKTtcbiAgICAgIH0sIGV4aXRBbmltYXRpb25EdXJhdGlvbik7IFxuICAgIH0sIGRpc3BsYXlEdXJhdGlvbkNvbmZpZyk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHNsaWRlc2hvd1RpbWVyKTtcbiAgICB9O1xuICB9LCBbaXNMb2FkaW5nLCBicmF6ZVNES0NhcmRzLCBjdXJyZW50Q2FyZEluZGV4Rm9yRGlzcGxheSwgY2FyZFRvRGlzcGxheV0pOyAvLyBBZGRlZCBjYXJkVG9EaXNwbGF5IGRlcGVuZGVuY3lcblxuICAvLyBFZmZlY3QgdG8gbWFuYWdlIHRoZSBhbmltYXRpb24gc3RhdGVzIGZvciBpbmNvbWluZyBjb250ZW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0xvYWRpbmcgJiYgIWlzVHJhbnNpdGlvbmluZykge1xuICAgICAgc2V0U2hvd0luY29taW5nQ29udGVudChmYWxzZSk7XG4gICAgICBjb25zdCByYWZUaW1lciA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHNldFNob3dJbmNvbWluZ0NvbnRlbnQodHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiBjYW5jZWxBbmltYXRpb25GcmFtZShyYWZUaW1lcik7XG4gICAgfSBlbHNlIGlmIChpc1RyYW5zaXRpb25pbmcpIHtcbiAgICAgIHNldFNob3dJbmNvbWluZ0NvbnRlbnQoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2lzVHJhbnNpdGlvbmluZywgY2FyZFRvRGlzcGxheSwgaXNMb2FkaW5nXSk7XG5cbiAgLy8gQ291bnRkb3duIFRpbWVyIExvZ2ljXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvdW50ZG93bkludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICBjb3VudGRvd25JbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgc2V0SXNDb3VudGRvd25BY3RpdmUoZmFsc2UpO1xuICAgIHNldERpc3BsYXllZENvdW50ZG93bihcIlwiKTtcbiAgICBzZXRDb3VudGRvd25QYXJ0cyhudWxsKTtcblxuICAgIGlmIChjYXJkVG9EaXNwbGF5ICYmIHR5cGVvZiBjYXJkVG9EaXNwbGF5LmlkID09PSAnc3RyaW5nJyAmJiBjYXJkVG9EaXNwbGF5LmlkLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRDYXJkSWQgPSBjYXJkVG9EaXNwbGF5LmlkO1xuICAgICAgLy8gY2FyZFRvRGlzcGxheSBpcyBCcmF6ZUJhc2VDYXJkLCBleHRyYXMgYXJlIGdlbmVyaWMuXG4gICAgICBjb25zdCBjYXJkRXh0cmFzID0gY2FyZFRvRGlzcGxheS5leHRyYXMgYXMgeyBjb3VudF9kb3duX2hvdXJzPzogc3RyaW5nIHwgbnVtYmVyIH07XG4gICAgICBpZiAoY2FyZEV4dHJhcyAmJiBjYXJkRXh0cmFzLmNvdW50X2Rvd25faG91cnMgIT09IHVuZGVmaW5lZCAmJiBjYXJkRXh0cmFzLmNvdW50X2Rvd25faG91cnMgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgcmF3Q291bnRkb3duSG91cnMgPSBjYXJkRXh0cmFzLmNvdW50X2Rvd25faG91cnM7XG4gICAgICAgIGNvbnN0IGhvdXJzRnJvbUV4dHJhcyA9IHBhcnNlSW50KFN0cmluZyhyYXdDb3VudGRvd25Ib3VycyksIDEwKTtcblxuICAgICAgICBpZiAoIWlzTmFOKGhvdXJzRnJvbUV4dHJhcykgJiYgaG91cnNGcm9tRXh0cmFzID4gMCkge1xuICAgICAgICAgIGxldCBjYXJkU3BlY2lmaWNUYXJnZXRFbmRUaW1lID0gdGFyZ2V0RW5kVGltZXNbY3VycmVudENhcmRJZF07XG5cbiAgICAgICAgICBpZiAoIWNhcmRTcGVjaWZpY1RhcmdldEVuZFRpbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjYXJkU3BlY2lmaWNUYXJnZXRFbmRUaW1lID0gbmV3IERhdGUobm93LmdldFRpbWUoKSArIGhvdXJzRnJvbUV4dHJhcyAqIDYwICogNjAgKiAxMDAwKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBzZXRUYXJnZXRFbmRUaW1lcyhwcmV2ID0+ICh7IC4uLnByZXYsIFtjdXJyZW50Q2FyZElkXTogY2FyZFNwZWNpZmljVGFyZ2V0RW5kVGltZSB9KSk7XG4gICAgICAgICAgfSBcblxuICAgICAgICAgIGNvbnN0IHVwZGF0ZURpc3BsYXkgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNhcmRTcGVjaWZpY1RhcmdldEVuZFRpbWUpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBjYXJkU3BlY2lmaWNUYXJnZXRFbmRUaW1lIC0gbm93O1xuXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAwKSB7XG4gICAgICAgICAgICAgIGlmIChjb3VudGRvd25JbnRlcnZhbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICBjb3VudGRvd25JbnRlcnZhbFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXRJc0NvdW50ZG93bkFjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgICAgIHNldENvdW50ZG93blBhcnRzKG51bGwpO1xuICAgICAgICAgICAgICBzZXREaXNwbGF5ZWRDb3VudGRvd24oXCJFbmRlZFwiKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaG91cnNMZWZ0ID0gTWF0aC5mbG9vcihkaXN0YW5jZSAvICgxMDAwICogNjAgKiA2MCkpO1xuICAgICAgICAgICAgY29uc3QgbWludXRlc0xlZnQgPSBNYXRoLmZsb29yKChkaXN0YW5jZSAlICgxMDAwICogNjAgKiA2MCkpIC8gKDEwMDAgKiA2MCkpO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kc0xlZnQgPSBNYXRoLmZsb29yKChkaXN0YW5jZSAlICgxMDAwICogNjApKSAvIDEwMDApO1xuICAgICAgICAgICAgc2V0Q291bnRkb3duUGFydHMoe1xuICAgICAgICAgICAgICBob3VyczogU3RyaW5nKGhvdXJzTGVmdCkucGFkU3RhcnQoMiwgJzAnKSxcbiAgICAgICAgICAgICAgbWludXRlczogU3RyaW5nKG1pbnV0ZXNMZWZ0KS5wYWRTdGFydCgyLCAnMCcpLFxuICAgICAgICAgICAgICBzZWNvbmRzOiBTdHJpbmcoc2Vjb25kc0xlZnQpLnBhZFN0YXJ0KDIsICcwJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldElzQ291bnRkb3duQWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgc2V0RGlzcGxheWVkQ291bnRkb3duKFwiXCIpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdXBkYXRlRGlzcGxheSgpO1xuICAgICAgICAgIGNvdW50ZG93bkludGVydmFsUmVmLmN1cnJlbnQgPSBzZXRJbnRlcnZhbCh1cGRhdGVEaXNwbGF5LCAxMDAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRJc0NvdW50ZG93bkFjdGl2ZShmYWxzZSk7XG4gICAgICAgICAgc2V0Q291bnRkb3duUGFydHMobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldElzQ291bnRkb3duQWN0aXZlKGZhbHNlKTtcbiAgICAgICAgc2V0Q291bnRkb3duUGFydHMobnVsbCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldElzQ291bnRkb3duQWN0aXZlKGZhbHNlKTtcbiAgICAgIHNldENvdW50ZG93blBhcnRzKG51bGwpO1xuICAgIH1cbiAgICBpZiAoY2FyZFRvRGlzcGxheSAmJiB0eXBlb2YgY2FyZFRvRGlzcGxheS5pZCA9PT0gJ3N0cmluZycgJiYgY2FyZFRvRGlzcGxheS5pZC50cmltKCkgIT09ICcnICYmIGNhcmRUb0Rpc3BsYXkuZXh0cmFzICYmIGNhcmRUb0Rpc3BsYXkuZXh0cmFzLmNvdW50X2Rvd25faG91cnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2FyZElkRm9yQ3VycmVudENvdW50ZG93blBhcnRzUmVmLmN1cnJlbnQgPSBjYXJkVG9EaXNwbGF5LmlkO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXJkSWRGb3JDdXJyZW50Q291bnRkb3duUGFydHNSZWYuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChjb3VudGRvd25JbnRlcnZhbFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWxSZWYuY3VycmVudCk7XG4gICAgICAgIGNvdW50ZG93bkludGVydmFsUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjYXJkVG9EaXNwbGF5LCBpbml0aWFsQ291bnRkb3duSG91cnNNYXAsIHRhcmdldEVuZFRpbWVzXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2FyZFRvRGlzcGxheSAmJiBjYXJkVG9EaXNwbGF5LmlkICYmIGxvZ2dlZEltcHJlc3Npb25DYXJkSWRSZWYuY3VycmVudCAhPT0gY2FyZFRvRGlzcGxheS5pZCkge1xuICAgICAgY29uc29sZS5sb2coYFtCcmF6ZVByb21vICcke3Nsb3RJZH0nXSBMb2dnaW5nIGltcHJlc3Npb24gZm9yIGNhcmQgSUQ6ICR7Y2FyZFRvRGlzcGxheS5pZH1gKTtcbiAgICAgIGJyYXplU2VydmljZS5sb2dDb250ZW50Q2FyZEltcHJlc3Npb24oY2FyZFRvRGlzcGxheSk7XG4gICAgICBsb2dnZWRJbXByZXNzaW9uQ2FyZElkUmVmLmN1cnJlbnQgPSBjYXJkVG9EaXNwbGF5LmlkO1xuICAgIH0gZWxzZSBpZiAoIWNhcmRUb0Rpc3BsYXkgJiYgbG9nZ2VkSW1wcmVzc2lvbkNhcmRJZFJlZi5jdXJyZW50KSB7XG4gICAgICBsb2dnZWRJbXByZXNzaW9uQ2FyZElkUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfSwgW2NhcmRUb0Rpc3BsYXksIHNsb3RJZF0pO1xuXG4gIC8vIFByb3BlcnRpZXMgZm9yIHJlbmRlcmluZywgZGVyaXZlZCBmcm9tIGNhcmRUb0Rpc3BsYXkgd2l0aCB0eXBlIGFzc2VydGlvbnNcbiAgLy8gVGhpcyBhcHByb2FjaCBoZWxwcyBpZiB0aGUgbGludGVyIHN0cnVnZ2xlcyB3aXRoIGRpcmVjdCBjYXN0aW5nIHRvIEFwcEJyYXplQ2FyZCBpbiBKU1hcbiAgY29uc3QgdGl0bGUgPSBjYXJkVG9EaXNwbGF5ID8gKGNhcmRUb0Rpc3BsYXkgYXMgYW55KS50aXRsZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gY2FyZFRvRGlzcGxheSA/IChjYXJkVG9EaXNwbGF5IGFzIGFueSkuZGVzY3JpcHRpb24gYXMgc3RyaW5nIHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkO1xuICBjb25zdCBpbWFnZVVybCA9IGNhcmRUb0Rpc3BsYXkgPyAoY2FyZFRvRGlzcGxheSBhcyBhbnkpLmltYWdlVXJsIGFzIHN0cmluZyB8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZDtcbiAgY29uc3QgbGlua1RleHQgPSBjYXJkVG9EaXNwbGF5ID8gKGNhcmRUb0Rpc3BsYXkgYXMgYW55KS5saW5rVGV4dCBhcyBzdHJpbmcgfCB1bmRlZmluZWQgOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGNsaWNrVXJsID0gY2FyZFRvRGlzcGxheSA/IChjYXJkVG9EaXNwbGF5IGFzIGFueSkudXJsIGFzIHN0cmluZyB8IHVuZGVmaW5lZCA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBhbHRUZXh0ID0gY2FyZFRvRGlzcGxheT8uZXh0cmFzPy5hbHRfdGV4dCBhcyBzdHJpbmcgfCB1bmRlZmluZWQgfHwgJ1Byb21vdGlvbmFsIGltYWdlJztcbiAgLy8gY29uc3QgY291bnREb3duSG91cnMgPSBjYXJkVG9EaXNwbGF5Py5leHRyYXM/LmNvdW50X2Rvd25faG91cnMgYXMgc3RyaW5nIHwgbnVtYmVyIHwgdW5kZWZpbmVkOyAvLyBBbHJlYWR5IGhhbmRsZWQgaW4gY291bnRkb3duIGVmZmVjdFxuICAvLyBjb25zdCBkaXNwbGF5RHVyYXRpb25NcyA9IGNhcmRUb0Rpc3BsYXk/LmV4dHJhcz8uZGlzcGxheV9kdXJhdGlvbl9tcyBhcyBudW1iZXIgfCB1bmRlZmluZWQgPz8gNjAwMDsgLy8gQWxyZWFkeSBoYW5kbGVkIGluIGF1dG9wbGF5IGVmZmVjdFxuXG4gIGNvbnN0IGhhbmRsZUNhcmRDbGljayA9ICgpID0+IHtcbiAgICBpZiAoIWNhcmRUb0Rpc3BsYXkgfHwgIWNhcmRUb0Rpc3BsYXkuaWQgfHwgIWNsaWNrVXJsKSByZXR1cm47XG4gICAgXG4gICAgd2luZG93Lm9wZW4oY2xpY2tVcmwsICdfYmxhbmsnKTtcbiAgICBicmF6ZVNlcnZpY2UubG9nQ29udGVudENhcmRDbGljayhjYXJkVG9EaXNwbGF5KTtcbiAgfTtcblxuICAvLyByZW5kZXJhYmxlQ2FyZERhdGEgY2FuIHN0aWxsIGJlIHVzZWZ1bCBmb3IgaWQgb3Igb3RoZXIgZGlyZWN0IEFwcEJyYXplQ2FyZCBzcGVjaWZpYyBsb2dpYyBpZiBhbnkuXG4gIGNvbnN0IHJlbmRlcmFibGVDYXJkRGF0YSA9IGNhcmRUb0Rpc3BsYXkgYXMgQXBwQnJhemVDYXJkIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0IGV4aXRBbmltYXRpb25EdXJhdGlvbiA9IDEwMDA7IC8vIFRoaXMgd2FzIGRlZmluZWQgYWZ0ZXIgaW1hZ2VVcmwsIG1vdmVkIGl0IGhlcmUgZm9yIGdyb3VwaW5nIGNvbnN0YW50c1xuXG4gIGNvbnN0IGhhbmRsZU5leHQgPSAoKSA9PiB7XG4gICAgaWYgKGlzVHJhbnNpdGlvbmluZyB8fCBicmF6ZVNES0NhcmRzLmxlbmd0aCA8PSAxKSByZXR1cm47XG4gICAgc2V0SXNUcmFuc2l0aW9uaW5nKHRydWUpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0Q3VycmVudENhcmRJbmRleEZvckRpc3BsYXkoKHByZXZJbmRleCkgPT5cbiAgICAgICAgcHJldkluZGV4ID09PSBicmF6ZVNES0NhcmRzLmxlbmd0aCAtIDEgPyAwIDogcHJldkluZGV4ICsgMVxuICAgICAgKTtcbiAgICAgIHNldElzVHJhbnNpdGlvbmluZyhmYWxzZSk7XG4gICAgfSwgZXhpdEFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQcmV2ID0gKCkgPT4ge1xuICAgIGlmIChpc1RyYW5zaXRpb25pbmcgfHwgYnJhemVTREtDYXJkcy5sZW5ndGggPD0gMSkgcmV0dXJuO1xuICAgIHNldElzVHJhbnNpdGlvbmluZyh0cnVlKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldEN1cnJlbnRDYXJkSW5kZXhGb3JEaXNwbGF5KChwcmV2SW5kZXgpID0+XG4gICAgICAgIHByZXZJbmRleCA9PT0gMCA/IGJyYXplU0RLQ2FyZHMubGVuZ3RoIC0gMSA6IHByZXZJbmRleCAtIDFcbiAgICAgICk7XG4gICAgICBzZXRJc1RyYW5zaXRpb25pbmcoZmFsc2UpO1xuICAgIH0sIGV4aXRBbmltYXRpb25EdXJhdGlvbik7XG4gIH07XG5cbiAgaWYgKGlzTG9hZGluZyAmJiAhY2FyZFRvRGlzcGxheSkge1xuICAgIHJldHVybiA8QnJhemVQcm9tb0Jhbm5lckNhcmRTa2VsZXRvbiAvPjtcbiAgfVxuICBcbiAgY29uc3QgZWFzaW5nQ2xhc3MgPSBcImVhc2UtW2N1YmljLWJlemllcigwLjE4LDEuMjUsMC40LDEuMSldXCI7XG4gIGxldCBhbmltYXRpb25Db250YWluZXJDbGFzc2VzID0gXCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggdHJhbnNpdGlvbi1hbGxcIjtcblxuICBpZiAoaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgYW5pbWF0aW9uQ29udGFpbmVyQ2xhc3NlcyArPSBgIGR1cmF0aW9uLTEwMDAgJHtlYXNpbmdDbGFzc30gb3BhY2l0eS0wIC10cmFuc2xhdGUteS1mdWxsYDtcbiAgfSBlbHNlIHtcbiAgICBhbmltYXRpb25Db250YWluZXJDbGFzc2VzICs9IGAgZHVyYXRpb24tNzAwICR7ZWFzaW5nQ2xhc3N9YDtcbiAgICBpZiAoc2hvd0luY29taW5nQ29udGVudCkge1xuICAgICAgYW5pbWF0aW9uQ29udGFpbmVyQ2xhc3NlcyArPSBcIiBvcGFjaXR5LTEwMCB0cmFuc2xhdGUteS0wXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEluaXRpYWwgc3RhdGUgb2YgZW50cmFuY2UgYW5pbWF0aW9uIChoaWRkZW4sIGZ1cnRoZXIgYmVsb3cpXG4gICAgICBhbmltYXRpb25Db250YWluZXJDbGFzc2VzICs9IFwiIG9wYWNpdHktMCB0cmFuc2xhdGUteS02XCI7IC8vIDI0cHggZG93blxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggaC1bMTYwcHhdIHctZnVsbCByb3VuZGVkLWxnIHNoYWRvdy1tZCBvdmVyZmxvdy1oaWRkZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1bIzQ2ZmRhZV0gdG8tWyNjNmZiNGJdIGN1cnNvci1wb2ludGVyXCJcbiAgICAgIG9uQ2xpY2s9eyFjYXJkVG9EaXNwbGF5IHx8ICFjbGlja1VybCA/IHVuZGVmaW5lZCA6IGhhbmRsZUNhcmRDbGlja31cbiAgICA+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBhc3BlY3Qtc3F1YXJlIGJnLXdoaXRlLzQwIGZsZXgtc2hyaW5rLTBcIj48L2Rpdj5cblxuICAgICAge2NhcmRUb0Rpc3BsYXkgJiYgYnJhemVTREtDYXJkcy5sZW5ndGggPiAxICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yIGZsZXggc3BhY2UteC0xIHotMjBcIj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaGFuZGxlUHJldigpOyB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy03IGgtNyByb3VuZGVkLWZ1bGwgYmctd2hpdGUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMCBzaGFkb3ctc20gaG92ZXI6c2hhZG93IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBob3ZlcjpzY2FsZS0xMDVcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlByZXZpb3VzIHNsaWRlXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1RyYW5zaXRpb25pbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlV2lkdGg9ezJ9IHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGNsYXNzTmFtZT1cInctNCBoLTRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGQ9XCJNMTUuNzUgMTkuNUw4LjI1IDEybDcuNS03LjVcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGhhbmRsZU5leHQoKTsgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNyBoLTcgcm91bmRlZC1mdWxsIGJnLXdoaXRlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZsZXgtc2hyaW5rLTAgc2hhZG93LXNtIGhvdmVyOnNoYWRvdyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgaG92ZXI6c2NhbGUtMTA1XCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJOZXh0IHNsaWRlXCJcbiAgICAgICAgICAgIGRpc2FibGVkPXtpc1RyYW5zaXRpb25pbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlV2lkdGg9ezJ9IHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIGNsYXNzTmFtZT1cInctNCBoLTRcIj5cbiAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGQ9XCJNOC4yNSA0LjVsNy41IDcuNS03LjUgNy41XCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxkaXZcbiAgICAgICAga2V5PXtjYXJkVG9EaXNwbGF5ID8gY2FyZFRvRGlzcGxheS5pZCA6ICduby1jYXJkLXN0YXRlJ31cbiAgICAgICAgY2xhc3NOYW1lPXthbmltYXRpb25Db250YWluZXJDbGFzc2VzfVxuICAgICAgPlxuICAgICAgICB7IWNhcmRUb0Rpc3BsYXkgPyAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bVwiPk5vIHByb21vdGlvbmFsIG9mZmVycyBhdmFpbGFibGUuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCB3LWZ1bGwgaC1mdWxsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCBhc3BlY3Qtc3F1YXJlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAge2ltYWdlVXJsID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1bY2FsYygxMDAlLTE2cHgpXSBoLVtjYWxjKDEwMCUtMTZweCldIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtpbWFnZVVybH1cbiAgICAgICAgICAgICAgICAgICAgYWx0PXthbHRUZXh0fVxuICAgICAgICAgICAgICAgICAgICBmaWxsXG4gICAgICAgICAgICAgICAgICAgIHNpemVzPVwiKG1heC13aWR0aDogNzY4cHgpIDEwMHZ3LCAobWF4LXdpZHRoOiAxMjAwcHgpIDUwdncsIDMzdndcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJvYmplY3QtY29udGFpblwiXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5PXtjdXJyZW50Q2FyZEluZGV4Rm9yRGlzcGxheSA9PT0gMCAmJiAhaXNUcmFuc2l0aW9uaW5nfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctMTIgaC0xMiBzdHJva2UtY3VycmVudFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlV2lkdGg9XCIyXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk00IDE1czEtMSA0LTEgNSAyIDggMiA0LTEgNC0xVjNzLTEgMS00IDEtNS0yLTgtMi00IDEtNCAxelwiIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIi8+XG4gICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTQgMjJ2LTdcIiBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHAtNCBmbGV4IGZsZXgtY29sIGp1c3RpZnktYmV0d2VlbiBpdGVtcy1zdGFydCBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMFwiPlxuICAgICAgICAgICAgICAgIHt0aXRsZSAmJiBcbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIG1iLTEgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgICAgICAgICAgPC9oMz59XG4gICAgICAgICAgICAgICAge2Rlc2NyaXB0aW9uICYmXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItMiBsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge2Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgPC9wPn1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIHtsaW5rVGV4dCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC1hdXRvIHB0LTIgZmxleCBpdGVtcy1jZW50ZXIgc2VsZi1zdHJldGNoXCI+IFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgaGFuZGxlQ2FyZENsaWNrKCk7IH19IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJncm91cCByZWxhdGl2ZSBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtNSBweS0yLjUgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LXdoaXRlIGJnLVsjMmU0YTQ1XSByb3VuZGVkLWxnIGhvdmVyOmJnLVsjMjUzYzM3XSB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0yMDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctWyMyNTNjMzddIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtsaW5rVGV4dCB8fCAnTGVhcm4gTW9yZSd9XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZVdpZHRoPXsyfSBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiBjbGFzc05hbWU9XCJ3LTQgaC00IG1sLTEuNSB0cmFuc2Zvcm0gdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwIGVhc2UtaW4tb3V0IGdyb3VwLWhvdmVyOnRyYW5zbGF0ZS14LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgZD1cIk04LjI1IDQuNWw3LjUgNy41LTcuNSA3LjVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZSBtb2RlPVwid2FpdFwiPlxuICAgICAgICAgICAgICAgICAgICB7aXNDb3VudGRvd25BY3RpdmUgJiYgY291bnRkb3duUGFydHMgJiYgY2FyZFRvRGlzcGxheSAmJiBjYXJkVG9EaXNwbGF5LmlkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdiBcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YGNvdW50ZG93bi1ibG9jay0ke2NhcmRUb0Rpc3BsYXkuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTMgZmxleCBpdGVtcy1jZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zLCBlYXNlOiBcImVhc2VJbk91dFwiIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbml0aWFsVG90YWxIb3Vyc0ZvckN1cnJlbnRDYXJkRGlzcGxheTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkRXh0cmFzID0gY2FyZFRvRGlzcGxheS5leHRyYXMgYXMgeyBjb3VudF9kb3duX2hvdXJzPzogc3RyaW5nIHwgbnVtYmVyfSB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmRFeHRyYXMgJiYgKGNhcmRFeHRyYXMuY291bnRfZG93bl9ob3VycyAhPT0gdW5kZWZpbmVkICYmIGNhcmRFeHRyYXMuY291bnRfZG93bl9ob3VycyAhPT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRIb3VycyA9IHBhcnNlSW50KFN0cmluZyhjYXJkRXh0cmFzLmNvdW50X2Rvd25faG91cnMpLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWRIb3VycykgJiYgcGFyc2VkSG91cnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVG90YWxIb3Vyc0ZvckN1cnJlbnRDYXJkRGlzcGxheSA9IHBhcnNlZEhvdXJzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFRvdGFsSG91cnNGb3JDdXJyZW50Q2FyZERpc3BsYXkgPT09IHVuZGVmaW5lZCAmJiBjYXJkVG9EaXNwbGF5LmlkICYmIHR5cGVvZiBjYXJkVG9EaXNwbGF5LmlkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxUb3RhbEhvdXJzRm9yQ3VycmVudENhcmREaXNwbGF5ID0gaW5pdGlhbENvdW50ZG93bkhvdXJzTWFwW2NhcmRUb0Rpc3BsYXkuaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50SG91clZhbHVlID0gcGFyc2VJbnQoY291bnRkb3duUGFydHMuaG91cnMsIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmRJZEZvckN1cnJlbnRDb3VudGRvd25QYXJ0c1JlZi5jdXJyZW50ICE9PSBjYXJkVG9EaXNwbGF5LmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxUb3RhbEhvdXJzRm9yQ3VycmVudENhcmREaXNwbGF5ICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKGluaXRpYWxUb3RhbEhvdXJzRm9yQ3VycmVudENhcmREaXNwbGF5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEhvdXJWYWx1ZSA9IGluaXRpYWxUb3RhbEhvdXJzRm9yQ3VycmVudENhcmREaXNwbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZW5vbWluYXRvciA9IGluaXRpYWxUb3RhbEhvdXJzRm9yQ3VycmVudENhcmREaXNwbGF5ICYmIGluaXRpYWxUb3RhbEhvdXJzRm9yQ3VycmVudENhcmREaXNwbGF5ID4gMCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGluaXRpYWxUb3RhbEhvdXJzRm9yQ3VycmVudENhcmREaXNwbGF5IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoMSwgY3VycmVudEhvdXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGN1bGF0ZWRQZXJjZW50YWdlID0gZGVub21pbmF0b3IgPiAwID8gKGN1cnJlbnRIb3VyVmFsdWUgLyBkZW5vbWluYXRvcikgKiAxMDAgOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaXJjdWxhclByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Bob3Vycy1wcm9ncmVzcy0ke2NhcmRUb0Rpc3BsYXkuaWR9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb3VudGRvd25QYXJ0cy5ob3Vyc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2U9e2NhbGN1bGF0ZWRQZXJjZW50YWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT17MzZ9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezIuNX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplPVwidGV4dC1bMTBweF1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXgtMC41IGZvbnQtbWVkaXVtIHRleHQtWyMyZTRhNDVdIHRleHQtc21cIj46PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YG1pbnV0ZXMtcHJvZ3Jlc3MtJHtjYXJkVG9EaXNwbGF5LmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb3VudGRvd25QYXJ0cy5taW51dGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlPXsocGFyc2VJbnQoY291bnRkb3duUGFydHMubWludXRlcywgMTApIC8gNTkpICogMTAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPXszNn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezIuNX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU9XCJ0ZXh0LVsxMHB4XVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXgtMC41IGZvbnQtbWVkaXVtIHRleHQtWyMyZTRhNDVdIHRleHQtc21cIj46PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3MgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YHNlY29uZHMtcHJvZ3Jlc3MtJHtjYXJkVG9EaXNwbGF5LmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb3VudGRvd25QYXJ0cy5zZWNvbmRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50YWdlPXsocGFyc2VJbnQoY291bnRkb3duUGFydHMuc2Vjb25kcywgMTApIC8gNTkpICogMTAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPXszNn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezIuNX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFNpemU9XCJ0ZXh0LVsxMHB4XVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge2lzQ291bnRkb3duQWN0aXZlICYmICFjb3VudGRvd25QYXJ0cyAmJiBkaXNwbGF5ZWRDb3VudGRvd24gPT09IFwiRW5kZWRcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5zcGFuIFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PVwiY291bnRkb3duLWVuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1sLTMgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LVsjMmU0YTQ1XVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX0gXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX0gXG4gICAgICAgICAgICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheWVkQ291bnRkb3dufVxuICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLnNwYW4+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5pbnRlcmZhY2UgQ2lyY3VsYXJQcm9ncmVzc1Byb3BzIHtcbiAgcGVyY2VudGFnZTogbnVtYmVyO1xuICB2YWx1ZTogc3RyaW5nO1xuICBzaXplPzogbnVtYmVyO1xuICBzdHJva2VXaWR0aD86IG51bWJlcjtcbiAgYmFzZUNvbG9yPzogc3RyaW5nO1xuICBwcm9ncmVzc0NvbG9yPzogc3RyaW5nO1xuICB0ZXh0Q29sb3I/OiBzdHJpbmc7XG4gIHRleHRTaXplPzogc3RyaW5nO1xufVxuXG5jb25zdCBDaXJjdWxhclByb2dyZXNzOiBSZWFjdC5GQzxDaXJjdWxhclByb2dyZXNzUHJvcHM+ID0gKHtcbiAgcGVyY2VudGFnZSxcbiAgdmFsdWUsXG4gIHNpemUgPSA0MCxcbiAgc3Ryb2tlV2lkdGggPSAzLFxuICBiYXNlQ29sb3IgPSAnI2UwZTBlMCcsXG4gIHByb2dyZXNzQ29sb3IgPSAnIzJlNGE0NScsXG4gIHRleHRDb2xvciA9ICcjMmU0YTQ1JyxcbiAgdGV4dFNpemUgPSAndGV4dC14cydcbn0pID0+IHtcbiAgY29uc3QgcmFkaXVzID0gKHNpemUgLSBzdHJva2VXaWR0aCkgLyAyO1xuICBjb25zdCBjaXJjdW1mZXJlbmNlID0gMiAqIE1hdGguUEkgKiByYWRpdXM7XG4gIGNvbnN0IG5vcm1hbGl6ZWRQZXJjZW50YWdlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBwZXJjZW50YWdlKSk7XG4gIGNvbnN0IG9mZnNldCA9IGNpcmN1bWZlcmVuY2UgLSAobm9ybWFsaXplZFBlcmNlbnRhZ2UgLyAxMDApICogY2lyY3VtZmVyZW5jZTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgbXgtMVwiPlxuICAgICAgPHN2ZyB3aWR0aD17c2l6ZX0gaGVpZ2h0PXtzaXplfSBjbGFzc05hbWU9XCJ0cmFuc2Zvcm0gLXJvdGF0ZS05MFwiPlxuICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgY3g9e3NpemUgLyAyfVxuICAgICAgICAgIGN5PXtzaXplIC8gMn1cbiAgICAgICAgICByPXtyYWRpdXN9XG4gICAgICAgICAgc3Ryb2tlPXtiYXNlQ29sb3J9XG4gICAgICAgICAgc3Ryb2tlV2lkdGg9e3N0cm9rZVdpZHRofVxuICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgIC8+XG4gICAgICAgIDxtb3Rpb24uY2lyY2xlXG4gICAgICAgICAgY3g9e3NpemUgLyAyfVxuICAgICAgICAgIGN5PXtzaXplIC8gMn1cbiAgICAgICAgICByPXtyYWRpdXN9XG4gICAgICAgICAgc3Ryb2tlPXtwcm9ncmVzc0NvbG9yfVxuICAgICAgICAgIHN0cm9rZVdpZHRoPXtzdHJva2VXaWR0aH1cbiAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgIHN0cm9rZURhc2hhcnJheT17Y2lyY3VtZmVyZW5jZX1cbiAgICAgICAgICBzdHJva2VEYXNob2Zmc2V0PXtvZmZzZXR9XG4gICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICBpbml0aWFsPXtmYWxzZX1cbiAgICAgICAgICBhbmltYXRlPXt7IHN0cm9rZURhc2hvZmZzZXQ6IG9mZnNldCB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuNSwgZWFzZTogXCJsaW5lYXJcIiB9fVxuICAgICAgICAvPlxuICAgICAgPC9zdmc+XG4gICAgICA8c3BhbiBjbGFzc05hbWU9e2BhYnNvbHV0ZSB0b3AtMS8yIGxlZnQtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXgtMS8yIC10cmFuc2xhdGUteS0xLzIgZm9udC1tZWRpdW0gJHt0ZXh0U2l6ZX1gfSBzdHlsZT17eyBjb2xvcjogdGV4dENvbG9yIH19PlxuICAgICAgICB7dmFsdWV9XG4gICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCcmF6ZVByb21vQmFubmVyQ2FyZDsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsImJyYXplU2VydmljZSIsIkltYWdlIiwiQnJhemVQcm9tb0Jhbm5lckNhcmRTa2VsZXRvbiIsIkJSQVpFX0RBVEFfVElNRU9VVF9NUyIsIkJyYXplUHJvbW9CYW5uZXJDYXJkIiwic2xvdElkIiwiY2FyZFRvRGlzcGxheSIsImJyYXplU0RLQ2FyZHMiLCJzZXRCcmF6ZVNES0NhcmRzIiwiY3VycmVudENhcmRJbmRleEZvckRpc3BsYXkiLCJzZXRDdXJyZW50Q2FyZEluZGV4Rm9yRGlzcGxheSIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImlzVHJhbnNpdGlvbmluZyIsInNldElzVHJhbnNpdGlvbmluZyIsInNob3dJbmNvbWluZ0NvbnRlbnQiLCJzZXRTaG93SW5jb21pbmdDb250ZW50IiwiZGlzcGxheWVkQ291bnRkb3duIiwic2V0RGlzcGxheWVkQ291bnRkb3duIiwiY291bnRkb3duUGFydHMiLCJzZXRDb3VudGRvd25QYXJ0cyIsImlzQ291bnRkb3duQWN0aXZlIiwic2V0SXNDb3VudGRvd25BY3RpdmUiLCJ0YXJnZXRFbmRUaW1lcyIsInNldFRhcmdldEVuZFRpbWVzIiwiaW5pdGlhbENvdW50ZG93bkhvdXJzTWFwIiwic2V0SW5pdGlhbENvdW50ZG93bkhvdXJzTWFwIiwiY291bnRkb3duSW50ZXJ2YWxSZWYiLCJjYXJkSWRGb3JDdXJyZW50Q291bnRkb3duUGFydHNSZWYiLCJ1bmRlZmluZWQiLCJkYXRhRmV0Y2hUaW1lb3V0UmVmIiwibG9nZ2VkSW1wcmVzc2lvbkNhcmRJZFJlZiIsImlzTW91bnRlZCIsImluaXRpYWxpemUiLCJjYWNoZWRCcmF6ZVNES1Jlc3VsdCIsImN1cnJlbnQiLCJjbGVhclRpbWVvdXQiLCJnZXRDYWNoZWRDb250ZW50Q2FyZHMiLCJzbG90SWRVbmRlcnNjb3JlIiwicmVwbGFjZSIsImNhcmRzIiwibGVuZ3RoIiwiZmlsdGVyZWRGb3JTbG90IiwiZmlsdGVyIiwiY2FyZCIsImV4dHJhcyIsInNsb3RfdGFyZ2V0IiwiY29uc29sZSIsImxvZyIsIm1hcCIsImMiLCJpZCIsInNldFRpbWVvdXQiLCJ1bnN1YnNjcmliZUlkIiwiYXR0ZW1wdHMiLCJpc0luaXRpYWxpemVkIiwiUHJvbWlzZSIsInJlc29sdmUiLCJlcnJvciIsInN1YnNjcmliZVRvQ29udGVudENhcmRzVXBkYXRlcyIsImNvbnRlbnRDYXJkc09iamVjdCIsImFsbENhcmRzRnJvbVNESyIsInByZXZCYW5uZXJzIiwicHJldklkcyIsIlNldCIsImIiLCJuZXdJZHMiLCJzaXplIiwic29tZSIsImhhcyIsInByZXYiLCJ1bnN1YnNjcmliZUZyb21Db250ZW50Q2FyZHNVcGRhdGVzIiwibmV3TWFwIiwic2hvdWxkVXBkYXRlIiwiZm9yRWFjaCIsImNhcmRFeHRyYXMiLCJ0cmltIiwiY291bnRfZG93bl9ob3VycyIsImluaXRpYWxIb3VycyIsInBhcnNlSW50IiwiU3RyaW5nIiwiaXNOYU4iLCJwcmV2U3RyIiwiSlNPTiIsInN0cmluZ2lmeSIsIm5ld1N0ciIsInVzZU1lbW8iLCJkaXNwbGF5RHVyYXRpb25Db25maWciLCJkaXNwbGF5X2R1cmF0aW9uX21zIiwiZXhpdEFuaW1hdGlvbkR1cmF0aW9uIiwic2xpZGVzaG93VGltZXIiLCJwcmV2SW5kZXgiLCJyYWZUaW1lciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJJbnRlcnZhbCIsImN1cnJlbnRDYXJkSWQiLCJyYXdDb3VudGRvd25Ib3VycyIsImhvdXJzRnJvbUV4dHJhcyIsImNhcmRTcGVjaWZpY1RhcmdldEVuZFRpbWUiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsInVwZGF0ZURpc3BsYXkiLCJkaXN0YW5jZSIsImhvdXJzTGVmdCIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXNMZWZ0Iiwic2Vjb25kc0xlZnQiLCJob3VycyIsInBhZFN0YXJ0IiwibWludXRlcyIsInNlY29uZHMiLCJzZXRJbnRlcnZhbCIsImxvZ0NvbnRlbnRDYXJkSW1wcmVzc2lvbiIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpbWFnZVVybCIsImxpbmtUZXh0IiwiY2xpY2tVcmwiLCJ1cmwiLCJhbHRUZXh0IiwiYWx0X3RleHQiLCJoYW5kbGVDYXJkQ2xpY2siLCJ3aW5kb3ciLCJvcGVuIiwibG9nQ29udGVudENhcmRDbGljayIsInJlbmRlcmFibGVDYXJkRGF0YSIsImhhbmRsZU5leHQiLCJoYW5kbGVQcmV2IiwiZWFzaW5nQ2xhc3MiLCJhbmltYXRpb25Db250YWluZXJDbGFzc2VzIiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsImJ1dHRvbiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJhcmlhLWxhYmVsIiwiZGlzYWJsZWQiLCJzdmciLCJ4bWxucyIsImZpbGwiLCJ2aWV3Qm94Iiwic3Ryb2tlV2lkdGgiLCJzdHJva2UiLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwiZCIsInAiLCJzcmMiLCJhbHQiLCJzaXplcyIsInByaW9yaXR5IiwiaDMiLCJtb2RlIiwiaW5pdGlhbCIsIm9wYWNpdHkiLCJhbmltYXRlIiwiZXhpdCIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImVhc2UiLCJpbml0aWFsVG90YWxIb3Vyc0ZvckN1cnJlbnRDYXJkRGlzcGxheSIsInBhcnNlZEhvdXJzIiwiY3VycmVudEhvdXJWYWx1ZSIsImRlbm9taW5hdG9yIiwibWF4IiwiY2FsY3VsYXRlZFBlcmNlbnRhZ2UiLCJDaXJjdWxhclByb2dyZXNzIiwidmFsdWUiLCJwZXJjZW50YWdlIiwidGV4dFNpemUiLCJzcGFuIiwiYmFzZUNvbG9yIiwicHJvZ3Jlc3NDb2xvciIsInRleHRDb2xvciIsInJhZGl1cyIsImNpcmN1bWZlcmVuY2UiLCJQSSIsIm5vcm1hbGl6ZWRQZXJjZW50YWdlIiwibWluIiwib2Zmc2V0Iiwid2lkdGgiLCJoZWlnaHQiLCJjaXJjbGUiLCJjeCIsImN5IiwiciIsInN0cm9rZURhc2hhcnJheSIsInN0cm9rZURhc2hvZmZzZXQiLCJzdHlsZSIsImNvbG9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/dashboard/BrazePromoBannerCard.tsx\n"));

/***/ })

});